import{d as L,r as v,o as S,a as P,b as c,c as g,e,w as t,f,u as a,E as z,g as b,t as A,h as w,i as m,j as D,k as E,l as C,v as F,m as x,n as j,p as q,q as M,_ as B,s as R,x as o,y as T,F as U,z as G,A as H}from"./index-0bc1dba0.js";import{g as J,p as K,a as O,b as Q}from"./api-c6756a56.js";const W=["src"],X=L({__name:"ImagePanel",props:{name:null,ip:null},setup(l){const n=l,_=v(""),u=v(!1),s=v(0);S(async()=>{y(),s.value=setInterval(async()=>{y()},1e4)}),P(()=>{clearInterval(s.value)});const y=()=>{J(n.ip).then(i=>{_.value=i,u.value=!1}).catch(i=>{_.value!==""&&(u.value=!0)})},p=async()=>{await K(n.ip)},r=async()=>{await O(n.ip)},h=(i,d)=>{M.push({path:`/detail/${i}/${d}`})};return(i,d)=>(c(),g("div",null,[e(a(q),null,{default:t(()=>[f("div",{onClick:d[0]||(d[0]=k=>h(l.name,l.ip))},[e(a(z),{type:"flex"},{default:t(()=>[e(a(b),{class:"video-name"},{default:t(()=>[f("span",null,A(l.name),1),e(a(w))]),_:1}),e(a(b),null,{default:t(()=>[u.value?(c(),m(a(D),{key:1,style:{width:"100%",height:"10vh"},title:"获取预览失败",type:"error"})):(c(),g("img",{style:{width:"100%",height:"10vh"},src:_.value,key:_.value},null,8,W))]),_:1})]),_:1})]),e(a(w)),e(a(E),{class:"inline-block",type:"primary",onClick:p,size:"small"},{default:t(()=>[e(a(C),null,{default:t(()=>[e(a(F))]),_:1}),x(" 播放")]),_:1}),e(a(E),{class:"inline-block",type:"primary",onClick:r,size:"small"},{default:t(()=>[e(a(C),null,{default:t(()=>[e(a(j))]),_:1}),x(" 暂停 ")]),_:1})]),_:1})]))}});const Y=B(X,[["__scopeId","data-v-f1b48514"]]),Z=l=>(G("data-v-2ce4b18a"),l=l(),H(),l),ee=Z(()=>f("div",{style:{padding:"15px"}}," xxxx播放管理系统 ",-1)),te={class:"grid-content"},ae=L({__name:"Layout",setup(l){const n=v([]);S(async()=>{u(),setInterval(async()=>{u()},8e3)});const _=v([]),u=()=>{Q().then(s=>{n.value=s}).catch(s=>{n.value=[]})};return R(n,(s,y)=>{const p=s.map(r=>({ip:r.ipaddress,name:r.name}));_.value=p}),(s,y)=>{const p=o("el-header"),r=o("el-button"),h=o("el-divider"),i=o("el-empty"),d=o("el-col"),k=o("el-row"),N=o("el-main"),V=o("el-container");return c(),m(V,null,{default:t(()=>[e(p,null,{default:t(()=>[ee]),_:1}),e(N,null,{default:t(()=>[e(r,{type:"primary",style:{float:"left","padding-bottom":"10px"}},{default:t(()=>[x("Primary")]),_:1}),e(h),n.value.length===0?(c(),m(i,{key:0})):(c(),m(k,{key:1,gutter:20,type:"flex"},{default:t(()=>[(c(!0),g(U,null,T(_.value,(I,$)=>(c(),m(d,{style:{height:"100%"},xs:24,sm:12,md:8,lg:6,xl:6,key:$},{default:t(()=>[f("div",te,[e(Y,{name:I.name,ip:I.ip},null,8,["name","ip"])])]),_:2},1024))),128))]),_:1}))]),_:1})]),_:1})}}});const se=B(ae,[["__scopeId","data-v-2ce4b18a"]]);export{se as default};
