import{d as D,r as c,o as b,a as I,b as P,c as S,e,w as t,u as a,A as i,E as M,g as v,f as h,t as T,h as g,G as E,H as x,j as A,k as r,l as u,m as p,q as j,x as q,y as d,_ as G}from"./index-8092824f.js";import{g as H,p as R,a as U,b as z}from"./api-475c9464.js";const F=["src"],J=D({__name:"NodeDetail",props:{name:null,ip:null},setup(_){const l=_,o=c(""),n=c(!1),m=c(0);b(async()=>{y(),m.value=setInterval(async()=>{y()},1e3)}),I(()=>{clearInterval(m.value)});const y=()=>{H(l.ip).then(s=>{o.value=s,n.value=!1}).catch(s=>{o.value!==""&&(n.value=!0)})},k=async()=>{await R(l.ip)},w=async()=>{await U(l.ip)},V=()=>{q.prompt("请输入要修改的名字","改名",{confirmButtonText:"确认",cancelButtonText:"取消"}).then(({value:s})=>{z(l.ip,s).then(f=>{d({type:"success",message:"修改成功"})}).catch(f=>{d({type:"error",message:"修改失败"})})}).catch(()=>{d({type:"info",message:"取消修改"})})};return(s,f)=>{const C=i("VideoPlay"),N=i("VideoPause"),B=i("Edit");return P(),S("div",null,[e(a(j),null,{default:t(()=>[e(a(M),{type:"flex"},{default:t(()=>[e(a(v),{style:{"text-align":"center"},class:"video-name"},{default:t(()=>[h("span",null,T(_.name),1),e(a(g))]),_:1}),e(a(v),null,{default:t(()=>[E(h("img",{style:{width:"100%",height:"100%"},alt:"picture",src:o.value},null,8,F),[[x,!n.value]]),E(e(a(A),{style:{width:"100%"},title:"获取截图失败",type:"error"},null,512),[[x,n.value]])]),_:1})]),_:1}),e(a(g)),e(a(r),{class:"inline-block",type:"primary",onClick:k},{default:t(()=>[e(a(u),null,{default:t(()=>[e(C)]),_:1}),p(" 播放 ")]),_:1}),e(a(r),{class:"inline-block",type:"primary",onClick:w},{default:t(()=>[e(a(u),null,{default:t(()=>[e(N)]),_:1}),p(" 暂停 ")]),_:1}),e(a(r),{class:"inline-block",type:"primary",onClick:V},{default:t(()=>[e(a(u),null,{default:t(()=>[e(B)]),_:1}),p(" 改名 ")]),_:1})]),_:1})])}}});const O=G(J,[["__scopeId","data-v-c10162e6"]]);export{O as default};
