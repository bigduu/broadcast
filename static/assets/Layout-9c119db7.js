import{g as $,p as B,a as z,b as E}from"./api-c6756a56.js";import{d as P,r as y,o as L,a as F,b as t,c as s,e as b,f as e,w as n,g as I,t as j,h as m,i as w,_ as S,j as D,k as M,F as T,p as U,l as q,m as A}from"./index-160fa07d.js";const G=["src"],H=P({__name:"ImagePanel",props:{name:null,ip:null},setup(c){const d=c,o=y(""),i=y(!1),p=y(0);L(async()=>{a(),p.value=setInterval(async()=>{a()},1e4)}),F(()=>{clearInterval(p.value)});const a=()=>{$(d.ip).then(l=>{o.value=l,i.value=!1}).catch(l=>{o.value!==""&&(i.value=!0,a())})},r=async()=>{await B(d.ip)},u=async()=>{await z(d.ip)};return(l,V)=>{const v=t("el-divider"),f=t("el-col"),g=t("el-alert"),x=t("el-row"),k=t("VideoPlay"),_=t("el-icon"),h=t("el-button"),C=t("VideoPause"),N=t("el-card");return s(),b("div",null,[e(N,null,{default:n(()=>[e(x,{type:"flex"},{default:n(()=>[e(f,{class:"video-name"},{default:n(()=>[I("span",null,j(c.name),1),e(v)]),_:1}),e(f,null,{default:n(()=>[i.value?(s(),m(g,{key:1,style:{width:"100%",height:"10vh"},title:"获取预览失败",type:"error"})):(s(),b("img",{style:{width:"100%",height:"10vh"},src:o.value,key:o.value},null,8,G))]),_:1})]),_:1}),e(v),e(h,{class:"inline-block",type:"primary",onClick:r,size:"small"},{default:n(()=>[e(_,null,{default:n(()=>[e(k)]),_:1}),w(" 播放")]),_:1}),e(h,{class:"inline-block",type:"primary",onClick:u,size:"small"},{default:n(()=>[e(_,null,{default:n(()=>[e(C)]),_:1}),w(" 暂停 ")]),_:1})]),_:1})])}}});const J=S(H,[["__scopeId","data-v-37bb89b8"]]),K=c=>(U("data-v-74cd02a4"),c=c(),q(),c),O=K(()=>I("div",{style:{padding:"15px"}}," xxxx播放管理系统 ",-1)),Q={class:"grid-content"},R=P({__name:"Layout",setup(c){const d=(a,r)=>{A.push({path:`/detail/${a}/${r}`})},o=y([]);L(async()=>{p(),setInterval(async()=>{p()},8e3)});const i=y([]),p=()=>{E().then(a=>{o.value=a}).catch(a=>{o.value=[]})};return D(o,(a,r)=>{const u=a.map(l=>({ip:l.ipaddress,name:l.name}));i.value=u}),(a,r)=>{const u=t("el-header"),l=t("el-botton"),V=t("el-divider"),v=t("el-empty"),f=t("el-col"),g=t("el-row"),x=t("el-main"),k=t("el-container");return s(),m(k,null,{default:n(()=>[e(u,{style:{}},{default:n(()=>[O]),_:1}),e(x,{style:{}},{default:n(()=>[e(l,{style:{float:"left"}},{default:n(()=>[w("xxxx")]),_:1}),e(V),o.value.length===0?(s(),m(v,{key:0})):(s(),m(g,{key:1,gutter:20,type:"flex"},{default:n(()=>[(s(!0),b(T,null,M(i.value,(_,h)=>(s(),m(f,{style:{height:"100%"},xs:24,sm:12,md:8,lg:6,xl:6,key:h},{default:n(()=>[I("div",Q,[e(J,{name:_.name,ip:_.ip,onClick:C=>d(_.name,_.ip)},null,8,["name","ip","onClick"])])]),_:2},1024))),128))]),_:1}))]),_:1})]),_:1})}}});const Y=S(R,[["__scopeId","data-v-74cd02a4"]]);export{Y as default};
